<div
  class="tile"
  [ngClass]="getTileClasses()"
  (click)="onClick()"
>
  @if (hasUnit) {
    <div class="unit-icon" [class.settler-unit]="unitType === 'settler'" [class.can-move]="unitCanMove">
      {{ getUnitSymbol() }}
    </div>
  }

  <!-- Coordenadas para depuración
  <div class="debug-coords" *ngIf="tile.isExplored">{{tile.x}},{{tile.y}}</div>-->

  <!-- Características adicionales usando emojis -->
  <div *ngIf="tile.isExplored && tile.featureType && tile.featureType !== 'none'"
       class="feature-image feature-{{tile.featureType}}"
       [style.opacity]="tile.isVisible ? '1' : '0.7'"></div>

  <!-- Recursos con emojis -->
  <div *ngIf="tile.isExplored && tile.isVisible && tile.resource"
       class="resource-image resource-{{tile.resource}}">
    <span *ngIf="isStrategicResource(tile.resource)">⚔️</span>
    <span *ngIf="isFoodResource(tile.resource)">🍎</span>
    <span *ngIf="isLuxuryResource(tile.resource)">💎</span>
  </div>

  @if (tile.resource) {
    <div class="resource-icon"
         [class.strategic]="isStrategicResource(tile.resource)"
         [class.food]="isFoodResource(tile.resource)"
         [class.luxury]="isLuxuryResource(tile.resource)">
      R
    </div>
  }

  <div *ngIf="!tile.isExplored" class="fog-of-war"></div>
  <div *ngIf="tile.isExplored && !tile.isVisible" class="fog-overlay"></div>
</div>
