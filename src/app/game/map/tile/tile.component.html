<div
  class="tile"
  [ngClass]="getTileClasses()"
  (click)="onClick()"
>
  <div class="tile-feature"></div>
  <div *ngIf="hasUnit" class="unit-indicator" [ngClass]="direction">
    {{ getUnitSymbol() }}
  </div>

  <!-- Indicador de progreso de construcción -->
  <div *ngIf="isConstructionInProgress()" class="construction-progress-indicator">
    <div class="construction-progress-bar">
      <div class="construction-progress" [style.width.%]="getConstructionProgress()"></div>
    </div>
  </div>

  <!-- Coordenadas para depuración
  <div class="debug-coords" *ngIf="tile.isExplored">{{tile.x}},{{tile.y}}</div>-->

  <!-- Características adicionales usando emojis -->
  <div *ngIf="tile.isExplored && tile.featureType && tile.featureType !== 'none'"
       class="feature-image feature-{{tile.featureType}}"
       [style.opacity]="tile.isVisible ? '1' : '0.7'"></div>

  <!-- Recursos con emojis -->
  <div *ngIf="tile.isExplored && tile.isVisible && tile.resource"
       class="resource-image resource-{{tile.resource}}">
    <span *ngIf="isStrategicResource(tile.resource)">⚔️</span>
    <!--<span *ngIf="isFoodResource(tile.resource)">🍎</span>
    <span *ngIf="isLuxuryResource(tile.resource)">💎</span>-->
  </div>

  @if (tile.resource) {
    <!--<div class="resource-icon"
         [class.strategic]="isStrategicResource(tile.resource)"
         [class.food]="isFoodResource(tile.resource)"
         [class.luxury]="isLuxuryResource(tile.resource)">

    </div>-->
  }

  <!-- Mejoras de terreno -->
  <div *ngIf="tile.isExplored && tile.isVisible && tile.improvement && tile.improvement !== 'none'"
       class="improvement-image improvement-{{tile.improvement}}">
    <span *ngIf="tile.improvement === 'farm'">🌾</span>
    <span *ngIf="tile.improvement === 'mine'">⛏️</span>
    <span *ngIf="tile.improvement === 'plantation'">🌴</span>
    <span *ngIf="tile.improvement === 'camp'">🏕️</span>
    <span *ngIf="tile.improvement === 'pasture'">🐄</span>
    <span *ngIf="tile.improvement === 'fishing_boats'">🚣</span>
  </div>

  <div *ngIf="!tile.isExplored" class="fog-of-war"></div>
  <div *ngIf="tile.isExplored && !tile.isVisible" class="fog-overlay"></div>
</div>
